<!DOCTYPE html>
<html>
    <head>
        <title>Stella - Things to change the world.</title>
        <meta charset="UTF-8" />
        <link href="desk.css" rel="stylesheet" />
        <script type="text/javascript">
            var ss = new URL(window.location).searchParams.get("overridelogo");
            if (window.innerWidth < window.innerHeight) {
                if (ss != "" && ss != null) {
                    window.location.replace("index-m.html?overridelogo=" + ss);
                } else {
                    window.location.replace("index-m.html");
                }
            }
        </script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="/blocks/bangs.js"></script>
        <link rel="shortcut icon" type="image/png" href="favicon.png" />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"
            rel="stylesheet"
        />
    </head>
    <body onload="loadcall()">
        <!-- Adrenaline Engine 5 -->
        <div class="hidden" style="font-family: 'Inter'">
            <p>
                See this message? There may be an issue with your browser, try
                refreshing the page or coming back later.
            </p>
        </div>
        <div class="rainbow-head">
            <div id="rainbwh" class="rainbow-head-inner">
                <p>&nbsp</p>
            </div>
        </div>
        <div class="content">
            <div class="tabindex" tabindex="1">
                <p>
                    Press the index key again to scroll through the list of
                    available actions.
                </p>
            </div>
            <div class="tabindex" tabindex="2">
                <p>
                    A popup will show with your action, press the index key
                    again to visit that action.
                </p>
            </div>
            <a class="tabindex" tabindex="3"><p>Focus on search box.</p></a>
            <a class="tabindex" tabindex="5"
                ><p>Focus on cookie notification.</p></a
            >
            <a class="tabindex" tabindex="7"><p>END</p></a>
            <div style="text-align: right; width: 100%; margin-bottom: 40px">
                &nbsp
                <div
                    id="ham"
                    onclick="document.getElementById('sidebar').setAttribute('class','sidebar-s'); 
window.open('global_ass/sidebar-d.html', 'sidebar-in');"
                    class="hamburger"
                >
                    <image src="../images/hamburger.svg"></image>
                </div>
            </div>
            <div style="margin-top: 15vh">
                <center>
                    <h1 id="slog" style="font-size: 50px">Stella</h1>
                    <script>
                        if (ss != "" && ss != null) {
                            document.getElementById("slog").innerHTML = ss;
                        }
                    </script>
                    <div class="input-out">
                        <input
                            id="sb"
                            tabindex="4"
                            placeholder="Search the Internet."
                        />
                        <script>
                            var input = document.getElementById("sb");
                            input.addEventListener("keyup", function (event) {
                                event.preventDefault();
                                var bangav = queryBangs(
                                    document.getElementById("sb").value
                                );
                                if (event.keyCode === 13) {
                                    if (bangav != null) {
                                        doBang(
                                            document.getElementById("sb").value
                                        );
                                    } else {
                                        var inputa = encodeURIComponent(
                                            document.getElementById("sb").value
                                        );
                                        window.location =
                                            "search/index-d.html?q=" + inputa;
                                    }
                                }
                            });
                        </script>
                        <image src="../images/search.png"></image>
                    </div>
                </center>
            </div>
            <div>
                <center>
                    <div id="bangs_field" class="bangs_field"></div>
                </center>
                <script>
                    function loadcall() {
                        showBangs();
                    }

                    function showBangs() {
                        var bangs = getBangs();
                        var target = document.getElementById("bangs_field");
                        bangs.forEach(function (item, index) {
                            var image =
                                item["url"].split("/")[0] +
                                "//" +
                                item["url"].split("/")[2] +
                                "/favicon.ico";
                            var newEl = document.createElement("div");
                            newEl.innerHTML =
                                '<image src="' + image + '"></image>';
                            newEl.setAttribute(
                                "onclick",
                                "inputBang('" +
                                    item["parameter"] +
                                    item["name"] +
                                    "');"
                            );
                            newEl.setAttribute("class", "bangs_field_item");
                            target.appendChild(newEl);
                        });
                    }

                    function inputBang(bang) {
                        document.getElementById("sb").value = bang + " ";
                        document.getElementById("sb").focus();
                    }
                </script>
            </div>
            <style>
                .bangs_field {
                    display: flex;
                    flex-direction: row;
                    flex-wrap: wrap;
                    justify-content: flex-start;
                    width: 40vw;
                    margin-top: 10px;
                }
                .bangs_field_item {
                    border: solid 1px rgba(0, 0, 0, 0.3);
                    border-radius: 5px;
                    padding: 5px;
                    margin-right: 2px;
                }
                .bangs_field_item img {
                    margin: auto;
                    display: block;
                    height: 16px;
                }
                @media (prefers-color-scheme: dark) {
                    .bangs_field_item {
                        background-color: black;
                        border: solid 1px rgba(255, 255, 255, 0.3);
                        border-radius: 5px;
                        padding: 5px;
                    }
                }
            </style>
            <div style="margin-top: 100px">
                <center id="local-area"></center>
            </div>
        </div>
        <!-- Sidebar -->
        <div id="sidebar" class="sidebar-h">
            &nbsp
            <iframe
                name="sidebar-in"
                id="sidebar-in"
                frameborder="0"
                style="height: 100vh"
            ></iframe>
        </div>
        <script>
            window.addEventListener("click", function (e) {
                if (
                    document.getElementById("sidebar-in").contains(e.target) ||
                    document.getElementById("ham").contains(e.target)
                ) {
                    // Clicked in box
                } else {
                    // Clicked outside the box
                    document
                        .getElementById("sidebar")
                        .setAttribute("class", "sidebar-h");
                }
            });
        </script>
        <script src="global_ass/titlescript.js"></script>
        <script>
            filla();
        </script>
        <script src="global_ass/script.js"></script>
    </body>
</html>
